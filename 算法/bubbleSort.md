# å†’æ³¡æ’åº

## åŸç†

1. æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªã€‚
2. å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ åšåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ã€‚åœ¨è¿™ä¸€ç‚¹ï¼Œæœ€åçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°ã€‚
3. é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªã€‚
4. æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒã€‚

## å›¾è§£

![å†’æ³¡æ’åºå›¾è§£](../assets/img/bubblesort.gif)

## js ä»£ç å®ç°

```javascript
const arr = [3,6,7,8,1,2,9,5,4]

function bubbleSort(list = []) {
    list = [...list]
    let length = list.length
    while(length > 1) {
        for(let j = 0; j < length - 1; j++) {
            if(list[j] > list[j + 1]) {
                [list[j], list[j + 1]] = [list[j + 1], list[j]]
            }
        }
        length--
    }
    return list
}
```

## å¯ä¼˜åŒ–åœ°æ–¹

* å¤–å±‚å¾ªç¯ä¼˜åŒ–

   - å¦‚ `[3,2,4,6]`ï¼Œå¤–å±‚å¾ªç¯åœ¨ç¬¬ä¸€æ¬¡å¾ªç¯åå·²ç»æ’åºå®Œæˆï¼Œåœ¨ç¬¬äºŒæ¬¡å¾ªç¯ä¸­æœªè¿›è¡Œäº¤æ¢ï¼Œç›´æ¥é€€å‡ºå¾ªç¯ã€‚

```javascript
const arr = [3,6,7,8,1,2,9,5,4]

function bubbleSort(list = []) {
    list = [...list]
    let length = list.length
    while(length > 1) {
        // å¢åŠ  flag æ§åˆ¶ï¼Œå¦‚æœæ²¡æœ‰è¿›è¡Œäº¤æ¢ï¼Œåˆ™è¯´æ˜å·²ç»ä»å°åˆ°å¤§æ’åºå®Œæˆï¼Œå¯ä»¥ç›´æ¥é€€å‡ºå¾ªç¯ã€‚
        let flag = false
        for(let j = 0; j < length - 1; j++) {
            if(list[j] > list[j + 1]) {
                [list[j], list[j + 1]] = [list[j + 1], list[j]]
                flag = true
            }
        }
        if(!flag) break
        length--
    }
    return list
}
```

* å¤–å±‚ + å†…å±‚å¾ªç¯ä¼˜åŒ–

   - è®°å½•å†…å±‚å¾ªç¯æœ€åä¸€æ¬¡æ’åºåçš„ç´¢å¼•ï¼Œè¡¨æ˜ä»è¯¥ç´¢å¼•åçš„æ’åºå·²å®Œæˆï¼Œä¸ç”¨åœ¨è¿›è¡Œå¾ªç¯éå†ã€‚
   - `[1,2,4,3,5]`ï¼ˆä¸å¤ªå¥½çš„ğŸŒ°ï¼‰ï¼Œç¬¬ä¸€æ¬¡å¤–å±‚å¾ªç¯ï¼Œå†…å±‚å¾ªç¯æ‰§è¡Œ **4** æ¬¡ï¼Œ è®°å½•æ ‡è¯†ç´¢å¼• **2**ï¼›è¿›å…¥ç¬¬äºŒæ¬¡å¤–å±‚å¾ªç¯ï¼Œå†…å±‚å¾ªç¯åªéœ€æ‰§è¡Œ **2** æ¬¡ã€‚

```javascript
const arr = [3,6,7,8,1,2,9,5,4]

function bubbleSort(list = []) {
    list = [...list]
    let length = list.length
    // å†…å±‚å¾ªç¯æœ€åéå†çš„ç´¢å¼•å€¼
    let lastIdx = length - 1
    while(length > 1) {
        // è®°å½•ç»“æŸæ ‡è¯†ç´¢å¼•
        let flagIdx = lastIdx
        for(let j = 0; j < lastIdx; j++) {
            if(list[j] > list[j + 1]) {
                [list[j], list[j + 1]] = [list[j + 1], list[j]]
                // å‘ç”Ÿäº¤æ¢åï¼Œå°†å½“å‰ç´¢å¼•èµ‹å€¼æ ‡è¯†ç´¢å¼•
                flagIdx = j
            }
        }
        if(lastIdx === flagIdx) {
            break
        } else {
            lastIdx = flagIdx
        }
        length--
    }
    return list
}
```
